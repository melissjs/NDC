<form [formGroup]="registerForm"  (ngSubmit)="onSubmit()">

  <ion-item>
    <ion-label stacked>Username:</ion-label>
    <ion-input [class.invalid]="!registerForm.controls['enterUsernameCtrl'].valid && registerForm.controls['enterUsernameCtrl'].touched" type="text" formControlName="enterUsernameCtrl"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label stacked>First Name:</ion-label>
    <ion-input [class.invalid]="!registerForm.controls['enterFirstNameCtrl'].valid && registerForm.controls['enterFirstNameCtrl'].touched" type="text" formControlName="enterFirstNameCtrl"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label stacked>Last Name:</ion-label>
    <ion-input [class.invalid]="!registerForm.controls['enterLastNameCtrl'].valid && registerForm.controls['enterLastNameCtrl'].touched" type="text" formControlName="enterLastNameCtrl"></ion-input>
  </ion-item>

  <ion-item text-wrap>
    <ion-label class="smalltext" stacked>You can hide information from your profile by using the toggle switches to the right of each item. If you leave them toggled on, your audit team will have access to that information on your profile. If you toggle off, only your team leaders will have access to that information. It is beneficial for team members to be able to communicate with each other, so allowing access to your phone number and/or email is recommended.</ion-label> 
  </ion-item>

  <ion-item>
    <ion-label stacked>Email:</ion-label>
    <!-- <ion-toggle [(ngModel)]="exposeEmail" formControlName="enterExposeEmailCtrl" (ionChange)="onChangeExposeEmail()"></ion-toggle> -->
    <ion-toggle [(ngModel)]="exposeEmail" [ngModelOptions]="{standalone: true}"></ion-toggle>
    <ion-input [class.invalid]="!registerForm.controls['enterEmailAddressCtrl'].valid && registerForm.controls['enterEmailAddressCtrl'].touched" type="email" formControlName="enterEmailAddressCtrl"></ion-input>
  </ion-item>
  
  <ion-item>
    <ion-label stacked>Cell Phone Number (numbers only):</ion-label>
    <ion-toggle [(ngModel)]="exposePhoneNumber" [ngModelOptions]="{standalone: true}"></ion-toggle>
    <ion-input [class.invalid]="!registerForm.controls['enterPhoneNumberCtrl'].valid && registerForm.controls['enterPhoneNumberCtrl'].touched" type="tel" formControlName="enterPhoneNumberCtrl"></ion-input>
  </ion-item>
  
  <ion-item>
    <ion-label stacked>Age:</ion-label>
    <ion-toggle [(ngModel)]="exposeAge" [ngModelOptions]="{standalone: true}"></ion-toggle>
    <ion-input type="text" formControlName="enterAgeCtrl"></ion-input>
  </ion-item>
    
  <ion-item>
    <ion-label stacked>Sex:</ion-label>
    <ion-toggle [(ngModel)]="exposeSex" [ngModelOptions]="{standalone: true}"></ion-toggle>
    <ion-select text-wrap [(ngModel)]="sex" formControlName="enterSexCtrl" (change)="onDirtySex(partyAffiliation)">
      <ion-option value="female">Female</ion-option>
      <ion-option value="male">Male</ion-option>
      <ion-option value="nonBinary">Non Binary</ion-option>
      <ion-option value="noAnswer">No Answer</ion-option>
    </ion-select> 
  </ion-item>
    
  <ion-item>
  <ion-label stacked>Party Affiliation:</ion-label>
  <ion-toggle [(ngModel)]="exposePartyAffiliation" [ngModelOptions]="{standalone: true}"></ion-toggle>
  <ion-select #partyAffiliation text-wrap [(ngModel)]="party" formControlName="enterPartyAffiliationCtrl" (change)="onChangePartyAffiliationFromList(party, otherParty, password)">
    <ion-option value="No Party Preference">No Party Preference</ion-option>
    <ion-option value="Independent">Independent</ion-option>
    <ion-option value="Democratic Party">Democratic Party</ion-option>
    <ion-option value="Green Party">Green Party</ion-option>
    <ion-option value="Republican Party">Republican Party</ion-option>
    <ion-option value="Other Party">Other Party</ion-option>
  </ion-select> 
  </ion-item>

  <ion-item *ngIf="party === 'Other Party'">
    <ion-label stacked>Please Write in Party Name:</ion-label>
    <ion-input #otherParty type="text" formControlName="enterOtherPartyAffiliationCtrl" [required]='party === "Other Party"'></ion-input>
  </ion-item>

  <ion-item>
    <ion-label stacked>Create password (min 8 characters):</ion-label>
    <ion-input [class.invalid]="!registerForm.controls['enterPassword1Ctrl'].valid && registerForm.controls['enterPassword1Ctrl'].touched" #password type="password" formControlName="enterPassword1Ctrl"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label stacked>Confirm password:</ion-label>
    <ion-input [class.invalid]="!registerForm.controls['enterPassword2Ctrl'].valid && registerForm.controls['enterPassword2Ctrl'].touched" type="password" formControlName="enterPassword2Ctrl" ></ion-input>
  </ion-item>

  <ion-item *ngIf="pageTitle === 'Register'">
    <button ion-button type="submit" [disabled]="!registerForm.valid" block large>
      Register
    </button>
  </ion-item>

</form>