<ion-header>
  <top-bar [passedTitle]="pageTitle"></top-bar>
</ion-header>


<ion-content class="backgroundColor" padding>

  <ion-card padding *ngIf="authSvc.isLoggedIn()">
    <form [formGroup]="contactForm">

      <ion-item>
        <ion-label stacked>Full Name:</ion-label>
        <ion-input type="text" formControlName="enterFullNameCtrl"></ion-input> 
      </ion-item>

      <ion-item>
        <ion-label stacked>Email:</ion-label>
        <ion-input type="text" formControlName="enterEmailAddressCtrl"></ion-input>
      </ion-item>

      <ion-item>
          <ion-label stacked>Subject:</ion-label>
          <ion-select #subject text-wrap formControlName="enterSubjectCtrl" (ionChange)="onChangeSubject()">
            <ion-option value="mediaInquiry">Media Inquiry</ion-option>
            <ion-option value="technicalSupport">Technical Support</ion-option>
            <ion-option value="other">Other</ion-option>
          </ion-select> 
        </ion-item>

      <ion-item>
        <ion-label stacked>Message:</ion-label>
        <ion-textarea formControlName="enterMessageCtrl"></ion-textarea>
      </ion-item>

      <ion-item>
        <button ion-button type="submit" [disabled]="!contactForm.valid" (click)="onSubmit()" large block>
          Submit
        </button>
      </ion-item>

    </form>
  </ion-card>

  <ion-card padding *ngIf="!authSvc.isLoggedIn()">
    <ion-list text-wrap>
      <ion-list-header>Contact Form </ion-list-header>
        <ion-item>
          <button ion-button block large (click)="onLoginOrRegister()">
            Login to use this form
          </button>
        </ion-item>
    </ion-list>
  </ion-card>

  <!-- <p>Form: {{ contactForm.value | json }}</p>
  <p>Form Status: {{ contactForm.status }}</p>
  <p>Name Status: {{ contactForm.get('fullName').status }}</p>-->
</ion-content>